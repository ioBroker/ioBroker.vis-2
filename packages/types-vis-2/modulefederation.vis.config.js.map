{"version":3,"file":"modulefederation.vis.config.js","sourceRoot":"","sources":["modulefederation.vis.config.ts"],"names":[],"mappings":"AAAA,SAAS,UAAU,CAAC,IAAc;IAC9B,MAAM,MAAM,GAAyE,EAAE,CAAC;IACxF,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;QACvB,MAAM,CAAC,WAAW,CAAC,GAAG;YAClB,eAAe,EAAE,GAAG;YACpB,SAAS,EAAE,IAAI;SAClB,CAAC;IACN,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAClB,CAAC;AACD;;;;;GAKG;AACH,MAAM,UAAU,sBAAsB,CAAC,WAA4C;IAG/E,MAAM,IAAI,GAAG;QACT,4BAA4B;QAC5B,yCAAyC;QACzC,yCAAyC;QACzC,yCAAyC;QACzC,yCAAyC;QACzC,yCAAyC;QACzC,yCAAyC;QACzC,yCAAyC;QACzC,yCAAyC;QACzC,yCAAyC;QACzC,yCAAyC;QACzC,4CAA4C;QAC5C,mCAAmC;QACnC,qBAAqB;QACrB,eAAe;QACf,aAAa;QACb,aAAa;QACb,YAAY;QACZ,OAAO;QACP,WAAW;QACX,kBAAkB;KACrB,CAAC;IACF,IAAI,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC;QAC7B,OAAO,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IACrF,CAAC;IACD,IAAI,WAAW,IAAI,CAAC,WAAW,CAAC,YAAY,IAAI,WAAW,CAAC,eAAe,CAAC,EAAE,CAAC;QAC3E,OAAO,UAAU,CACb,IAAI,CAAC,MAAM,CACP,WAAW,CAAC,EAAE,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,WAAW,CAAC,IAAI,WAAW,CAAC,eAAe,EAAE,CAAC,WAAW,CAAC,CACvG,CACJ,CAAC;IACN,CAAC;IACD,OAAO,UAAU,CAAC,IAAI,CAAC,CAAC;AAC5B,CAAC","sourcesContent":["function makeShared(pkgs: string[]): { [packageName: string]: { requiredVersion: '*'; singleton: true } } {\n    const result: { [packageName: string]: { requiredVersion: '*'; singleton: true } } = {};\n    pkgs.forEach(packageName => {\n        result[packageName] = {\n            requiredVersion: '*',\n            singleton: true,\n        };\n    });\n    return result;\n}\n/**\n * Admin shares these modules for all components\n *\n * @param packageJson - package.json or list of modules that used in component\n * @returns Object with shared modules for \"federation\"\n */\nexport function moduleFederationShared(packageJson?: Record<string, any> | string[]): {\n    [packageName: string]: { requiredVersion: '*'; singleton: true };\n} {\n    const list = [\n        '@iobroker/adapter-react-v5',\n        '@iobroker/adapter-react-v5/i18n/de.json',\n        '@iobroker/adapter-react-v5/i18n/en.json',\n        '@iobroker/adapter-react-v5/i18n/es.json',\n        '@iobroker/adapter-react-v5/i18n/ru.json',\n        '@iobroker/adapter-react-v5/i18n/nl.json',\n        '@iobroker/adapter-react-v5/i18n/it.json',\n        '@iobroker/adapter-react-v5/i18n/pl.json',\n        '@iobroker/adapter-react-v5/i18n/pt.json',\n        '@iobroker/adapter-react-v5/i18n/fr.json',\n        '@iobroker/adapter-react-v5/i18n/uk.json',\n        '@iobroker/adapter-react-v5/i18n/zh-cn.json',\n        '@iobroker/vis-2-widgets-react-dev',\n        '@mui/icons-material',\n        '@mui/material',\n        '@mui/styles',\n        '@mui/system',\n        'prop-types',\n        'react',\n        'react-dom',\n        'react-dom/client',\n    ];\n    if (Array.isArray(packageJson)) {\n        return makeShared(list.filter(packageName => packageJson.includes(packageName)));\n    }\n    if (packageJson && (packageJson.dependencies || packageJson.devDependencies)) {\n        return makeShared(\n            list.filter(\n                packageName => packageJson.dependencies?.[packageName] || packageJson.devDependencies?.[packageName],\n            ),\n        );\n    }\n    return makeShared(list);\n}\n"]}